{"version":3,"sources":["../../src/lib/md-datatable-pagination.component.ts"],"names":[],"mappings":"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","file":"md-datatable-pagination.component.js","sourcesContent":["import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n} from '@angular/core';\n\nimport { MdSelectChange } from '@angular/material';\n\nimport { BaseComponent } from './helpers';\nimport { IDatatablePaginationEvent } from './md-datatable.interfaces';\n\n@Component({\n  selector: 'ng2-md-datatable-pagination',\n  template: `\n    <span>{{rowsPerPageText}}</span>\n    <md-select [ngModel]=\"itemsPerPage\" (change)=\"onSelectChange($event)\" class=\"pagination__itemsPerPage\">\n      <md-option *ngFor=\"let choice of itemsPerPageChoices\"\n        [value]=\"choice\">{{ choice }}</md-option>\n    </md-select>\n    <span class=\"pagination__range\">{{firstIndexOfPage}}â€“{{lastIndexOfPage}} {{ofText}} {{itemsCount}}</span>\n    <div class=\"pagination__controls\">\n      <button *ngIf=\"needShowFirstArrow\" md-icon-button\n        [disabled]=\"isPreviousOrFirstButtonDisabled\"\n        (click)=\"onClickFirst()\"\n        aria-label=\"First\">\n        <md-icon>first_page</md-icon>\n      </button>\n      <button md-icon-button\n        [disabled]=\"isPreviousOrFirstButtonDisabled\"\n        (click)=\"onClickPrevious()\"\n        aria-label=\"Previous\">\n        <md-icon>navigate_before</md-icon>\n      </button>\n      <button md-icon-button\n        [disabled]=\"isNextOrLastButtonDisabled\"\n        (click)=\"onClickNext()\"\n        aria-label=\"Next\">\n        <md-icon>navigate_next</md-icon>\n      </button>\n      <button *ngIf=\"needShowLastArrow\" md-icon-button\n        [disabled]=\"isNextOrLastButtonDisabled\"\n        (click)=\"onClickLast()\"\n        aria-label=\"Last\">\n        <md-icon>last_page</md-icon>\n      </button>\n    </div>\n  `,\n  styleUrls: ['md-datatable-pagination.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MdDataTablePaginationComponent extends BaseComponent implements OnInit {\n  @Input() currentPage: number;\n  @Input() itemsPerPage: number;\n  @Input() itemsCount: number;\n  @Input() itemsPerPageChoices: Array<number> = [5, 10, 20, 50];\n  @Input() itemsPerPageFirstChoice = 10;\n  @Input() needShowFirstArrow = true;\n  @Input() needShowLastArrow = true;\n  @Input() ofText = 'of';\n  @Input() rowsPerPageText = 'Rows per page:';\n\n  @Output() paginationChange: EventEmitter<IDatatablePaginationEvent> =\n  new EventEmitter<IDatatablePaginationEvent>(true);\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n    super();\n  }\n\n  get firstIndexOfPage() {\n    return this.currentPage * this.itemsPerPage - this.itemsPerPage + 1;\n  }\n\n  get lastIndexOfPage() {\n    const maxLastIndexOnPage = this.currentPage * this.itemsPerPage;\n    return maxLastIndexOnPage >= this.itemsCount ? this.itemsCount : maxLastIndexOnPage;\n  }\n\n  get isPreviousOrFirstButtonDisabled() {\n    return this.currentPage === 1;\n  }\n\n  get isNextOrLastButtonDisabled() {\n    return this.lastIndexOfPage >= this.itemsCount;\n  }\n\n  ngOnInit() {\n    // set defaults values if not provided\n    if (!this.currentPage) {\n      this.currentPage = 1;\n    }\n\n    if (!this.itemsPerPage) {\n      this.itemsPerPage = this.itemsPerPageFirstChoice;\n    }\n\n    if (!this.itemsCount) {\n      this.itemsCount = 0;\n    }\n  }\n\n  onSelectChange(event: MdSelectChange) {\n    this.currentPage = 1;\n    this.itemsPerPage = Number(event.value);\n    this.changeDetectorRef.markForCheck();\n    this.emitPaginationChange();\n  }\n\n  onClickFirst() {\n    this.currentPage = 1;\n    this.changeDetectorRef.markForCheck();\n    this.emitPaginationChange();\n  }\n\n  onClickLast() {\n    this.currentPage = Math.ceil(this.itemsCount / this.itemsPerPage);\n    this.changeDetectorRef.markForCheck();\n    this.emitPaginationChange();\n  }\n\n  onClickPrevious() {\n    this.currentPage = this.currentPage - 1;\n    this.changeDetectorRef.markForCheck();\n    this.emitPaginationChange();\n  }\n\n  onClickNext() {\n    this.currentPage = this.currentPage + 1;\n    this.changeDetectorRef.markForCheck();\n    this.emitPaginationChange();\n  }\n\n  private emitPaginationChange() {\n    this.paginationChange.emit(<IDatatablePaginationEvent>{\n      page: this.currentPage,\n      itemsPerPage: this.itemsPerPage,\n    });\n  }\n}\n"]}